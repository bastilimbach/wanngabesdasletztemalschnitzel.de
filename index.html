<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="white">
  <meta name="apple-mobile-web-app-title" content="Schnitzel">
  <meta name="application-name" content="Schnitzel">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="theme-color" content="#ffffff">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <link href="https://fonts.googleapis.com/css?family=Permanent+Marker" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>Schnitzel Countdown</title>
</head>

<body>
  <noscript>Keine Schnitzel ohne JavaScript!</noscript>
  <canvas class="background"></canvas>
  <div class="app">
    <div class="container">
      <h1 class="countdown"></h1>

      <p class="desc ">
        <span class="verb">Sind</span> vergangen, als es das letzte mal Schnitzel bei
        <a href="https://www.gambit.de/ " target="_blank ">Gambit</a> gab!
        <small class="emoji"></small>
      </p>
    </div>
  </div>
  <div class="createdBy">
    <small>
      Source code available on
      <a href="https://github.com/bastilimbach/wanngabesdasletztemalschnitzel.de">Github</a>
    </small>
  </div>
  <script type="text/javascript ">
    var lastDateOfSchnitzel = new Date('08/07/2018')
    var emojis = ['ðŸ˜Š', 'ðŸ™„', 'ðŸ¤¨', 'ðŸ˜¢', 'ðŸ˜°', 'ðŸ˜­']
    var emotion;

    function getDaysBetweenDates(date1, date2) {
      var oneDay = 1000 * 60 * 60 * 24;
      var date1Time = date1.getTime()
      var date2Time = date2.getTime()
      var difference = date2Time - date1Time
      return Math.round(difference / oneDay)
    }

    var suffix = 'Tage'
    var descriptionVerb = 'Sind'
    var numberOfDaysWithoutSchnitzel = getDaysBetweenDates(lastDateOfSchnitzel, new Date())
    if (numberOfDaysWithoutSchnitzel === 1) { 
      suffix = 'Tag'
      descriptionVerb = 'Ist' 
    }
    document.getElementsByClassName('countdown')[0].textContent = numberOfDaysWithoutSchnitzel + ' ' + suffix
    document.getElementsByClassName('verb')[0].textContent = descriptionVerb

    switch (true) {
      case numberOfDaysWithoutSchnitzel < 5:
        emotion = emojis[0]
        break;
      case numberOfDaysWithoutSchnitzel >= 5 && numberOfDaysWithoutSchnitzel < 10:
        emotion = emojis[1]
        break;
      case numberOfDaysWithoutSchnitzel >= 10 && numberOfDaysWithoutSchnitzel < 15:
        emotion = emojis[2]
        break;
      case numberOfDaysWithoutSchnitzel >= 15 && numberOfDaysWithoutSchnitzel < 20:
        emotion = emojis[3]
        break;
      case numberOfDaysWithoutSchnitzel >= 20 && numberOfDaysWithoutSchnitzel < 25:
        emotion = emojis[4]
        break;
      case numberOfDaysWithoutSchnitzel > 25:
        emotion = emojis[5]
        break;
      default:
        emotion = emojis[0]
        break;
    }

    document.getElementsByClassName('emoji')[0].textContent = emotion
  </script>
  <script src="schnitzelBackground.js"></script>
</body>

</html>